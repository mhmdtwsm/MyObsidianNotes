---
tags:
  - GET
  - HTTP
  - POST
---


***Web applications are systems that function through requests and responses, operating over specific protocols.***

# HTTP Request
#HTTP

**`HTTP` is a set of rules that specifies how to structure and interpret internet messages, and how web clients and web servers should exchange information.**

Let's for example take this request to see how the things works:
```http 
POST /login HTTP/1.1
Host: example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36
Content-Type: application/x-www-form-urlencoded
Content-Length: 29
Authorization: Bearer abc123
Cookie: sessionid=xyz987
Connection: keep-alive

username=admin&password=12345
```

## 1. **Request Line** - `POST /login HTTP/1.1`

- **HTTP Method**: Defines the action the client wants the server to perform (e.g., `GET`, `POST`, `PUT`, `DELETE`).
- **Resource Path**: The URI (Uniform Resource Identifier) or path that specifies the resource the client is requesting on the server (e.g., `/login`, `/profile`).
- **HTTP Version**: Specifies the version of the HTTP protocol used (e.g., `HTTP/1.1`, `HTTP/2`).

### HTTP Method
There are two crucial methods to focus on, `GET` and `PUT`

#### `GET` Method
#GET

The `GET` method is used to retrieve data from the server without modifying it. It is commonly used for requests like viewing web pages, fetching resources, or performing searches.

- **Idempotent**: Multiple identical `GET` requests produce the same result without side effects on the server.

- **Request Parameters**: Data is sent as query parameters in the URL (e.g., `?key=value`).

- **No Body**: A `GET` request typically does not include a body.

- **Cached**: Responses to `GET` requests can be cached by browsers or servers for performance.

- **Visible in URL**: Query parameters are appended to the URL, making them visible in the browser and logged in server logs.

- **Length Limit**: URLs have length limits, which restrict the amount of data that can be sent with a `GET` request.

```http
GET /search?query=web+security&page=1 HTTP/1.1
Host: example.com
User-Agent: Mozilla/5.0
```

### `POST` Method
#POST

The `POST` method is used to send data to the server, typically for creating or modifying resources. It is commonly used for form submissions, file uploads, or API requests.

- **Non-Idempotent**: Multiple identical `POST` requests may create duplicate resources or produce different results.

- **Request Parameters**: Data is sent in the body of the request, not in the URL.

- **No Length Restriction**: Unlike `GET`, the size of the data sent via `POST` is not limited by URL length.

- **Not Cached**: `POST` requests are generally not cached by default.

- **More Secure**: Data sent in the body is not visible in the URL, though it can still be intercepted if not encrypted (e.g., with HTTPS).

```http
POST /login HTTP/1.1
Host: example.com
Content-Type: application/x-www-form-urlencoded
Content-Length: 29

username=admin&password=12345
```

---

## 2. **Headers**

**HTTP request headers**. These are used to pass additional information about the request to the server. This allows the server to customize results sent to the client.

- **`Host`**: Specifies the domain name of the server (needed for virtual hosting).

- **`User-Agent`**: Identifies the client software making the request (e.g., browser type, version).

- **`Content-Type`**: Defines the type of data being sent in the body (e.g., `application/json`, `application/x-www-form-urlencoded`).

- **`Content-Length`**: The length of the data in the request body (if applicable).

- **`Authorization`**: Used for authentication, usually containing tokens or credentials.

- **`Accept`**: Specifies the media types that the client is willing to receive (e.g., `text/html`, `application/json`).

- **`Cookie`**: Contains cookies previously set by the server for the client.

- **`Connection` Header**: Controls whether the client-server connection remains open (`keep-alive`) for reuse or closes (`close`) after the request, improving performance in persistent connections.

- **`Referer` Header**:  indicates the URL of the previous web page (the referrer) from which the current request was made. It helps servers understand the context of the request, such as tracking user navigation or identifying the source of incoming traffic.

- **`Origin Header`**: Specifies the source (protocol, domain, and port) of the request, used primarily in cross-origin requests `CORS` to determine whether the request is allowed by the server.
	- Unlike `Referer`, it only includes the origin without the full URL path, enhancing privacy and security.
	
	- ***`CORS`*** is a security mechanism implemented in web browsers that allows or restricts web pages from making requests to a different origin (domain, protocol, or port) than their own. It enables secure cross-origin communication between clients and servers. -Look at [this](https://www.youtube.com/watch?v=4KHiSt0oLJ0), [this](https://www.youtube.com/watch?v=PNtFSVU-YTI), and [this](https://www.youtube.com/watch?v=t5FBwq-kudw) at last for `CORS` attacks -

### `CORS`

Let's imagine the scenario of visiting a *Website A* which wants some data form *Website B*...

#### **1. You Visit Website A**

You open **Website A** (`mywebsite.com`) in your browser. At this point, your browser makes a regular HTTP request to Website A to load the page.
```http
GET / HTTP/1.1
Host: mywebsite.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36
Accept-Language: en-US,en;q=0.9
Accept-Encoding: gzip, deflate, br
Connection: keep-alive
```
At this point, there are no `Origin` or `Referer` headers because you are directly visiting **Website A**.

#### **2. Website A Needs Data from Website B**
Website A has JavaScript that needs data from **Website B** (e.g., an API). Website A says to your browser: _"Go fetch some data from `api.weather.com` on my behalf."_

This is typically an API request or fetch call made by JavaScript in **Website A**.
**API fetch Example:**
```js
// Website A wants to get data from Website B (api.weather.com)
const apiUrl = 'https://api.weather.com/v3/weather/forecast?location=12345';

// Making a GET request to Website B's API
fetch(apiUrl, {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Origin': 'https://website-a.com', // Specify the origin of the request
    'Referer': 'https://website-a.com/page', // Specify the referer to show where the request is coming from
  },
})
.then(response => response.json()) // Parse the JSON response
.then(data => {
  console.log('Weather Data:', data); // Handle the weather data
})
.catch(error => {
  console.error('Error fetching weather data:', error);
});
```

**HTTP request example:**
```http
GET /weather HTTP/1.1
Host: api.weather.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36
Accept: application/json, text/javascript
Origin: https://mywebsite.com
Referer: https://mywebsite.com/somepage
Connection: keep-alive
```

#### **3. Website B Checks Permissions**

Website B receives the request. It sees the `Origin` header (`https://mywebsite.com`) and decides whether or not it allows the request based on its CORS policy.

- If **Website B** allows requests from **Website A**, it responds with the data and includes the appropriate CORS headers.
```http
HTTP/1.1 200 OK
Access-Control-Allow-Origin: https://mywebsite.com   <-- Allows this specific origin
Access-Control-Allow-Methods: GET, POST
Access-Control-Allow-Headers: Content-Type
Content-Type: application/json
Content-Length: 250
```
Here, the server includes the `Access-Control-Allow-Origin` header in the response, which tells your browser that it is okay to send the data back to **Website A**.

- If **Website B** doesn’t allow requests from **Website A**, it denies the request.
```http
HTTP/1.1 403 Forbidden
```

#### **4. Your Browser Gives the Response to Website A**

If **Website B** allows the request, the browser passes the data back to **Website A** (through JavaScript or a front-end framework). You’ll see the data displayed on **Website A** (e.g., weather information).

Website A never directly communicates with Website B; **your browser** does all the work of making the request to Website B, checking the `CORS` headers, and returning the response.

#### **Summary of Request Flow:**

1. **You visit Website A** → No `Origin` or `Referer` header.

2. **Website A asks your browser to fetch data from Website B** → The request from your browser to Website B includes the `Origin` and `Referer` headers.

3. **Website B checks if the `Origin` is allowed** → It decides whether to send the data.

4. **Your browser receives the response from Website B** → The data is sent back to **Website A**.

---
## 3. **Body**

The body of the `HTTP` request carries the data to be sent to the server. This is particularly important for methods like `POST`, `PUT`, and `PATCH`, where the client is submitting data (e.g., form data, `JSON`, files).

- **Form Data**: Data submitted from `HTML` forms, typically encoded as `application/x-www-form-urlencoded` or `multipart/form-data` for file uploads.

- **`JSON`**: Used in API requests, often sent with `Content-Type: application/json`.

- **`XML`**: Another common format, especially in older APIs.

- **Binary Data**: Can include file uploads or other media.

---
